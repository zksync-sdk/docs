---
title: zkSync Era Features
description: "How to pass arguments to the zkSync SDK"
tags: ["zksync", "sdks", "zkSync Era SDK", "ethereum", "era network", "javascript"]
---

### Differences from Ethereum

zkSync introduces several key differences compared to Ethereum:

1. **Account Abstraction Support**: Custom validation logic and paymaster support.
2. **Deployment Transactions**: Contracts' bytecode is passed separately.
3. **Fee System**: Different fee system requiring custom fields.

These differences extend standard Ethereum transactions with new custom fields, referred to as [EIP712](https://eips.ethereum.org/EIPS/eip-712)
transactions.

### Overrides in zkSync SDK

`ethers.js` optimizes transaction fields automatically, but you might need to provide explicit values using an `Overrides`
object. For zkSync-specific fields, use the `customData` object within `Overrides`.

::callout{icon="i-heroicons-exclamation-triangle" color="amber"}
This document focuses solely on how to pass these arguments to the SDK.
::

```typescript
{
    overrides: {
        customData: {
            gasPerPubdata?: BigNumberish;
            factoryDeps?: BytesLike[];
            customSignature?: BytesLike;
            paymasterParams?: {
                paymaster: Address;
                paymasterInput: BytesLike;
            };
        }
    }
}
```

::callout{icon="i-heroicons-light-bulb"}
Everything inside `customData` in `overrides` is related to zkSync(L2 gas, etc.).
::

## Examples

### Deploy a Contract with Custom Data
Override to deploy a contract with bytecode `0xcde...12` and enforce that the operator will not charge more than 100 L2
gas per published byte on Layer 1:

```javascript
{
    customData: {
        gasPerPubdata: "100",
        factoryDeps: ["0xcde...12"],
    }
}
```

### Use Custom Signature and Paymaster
Use custom signature `0x123456` for the account, while using a paymaster with
address `0x8e1DC7E4Bb15927E76a854a92Bf8053761501fdC` and paymaster input `0x8c5a3445`:

```javascript
{
    customData: {
        customSignature: "0x123456",
        paymasterParams: {
            paymaster: "0x8e1DC7E4Bb15927E76a854a92Bf8053761501fdC",
            paymasterInput: "0x8c5a3445"
        }
    }
}
```

## Encoding Paymaster Parameters
While the paymaster feature itself does not impose any limitations on the values of `paymasterInput`, the Matter Labs
team endorses certain types of [paymaster flows](/build/developer-reference/account-abstraction#built-in-paymaster-flows)
that are processable by EOAs.

zkSync SDK provides a utility method that can be used to get the correctly formed `paymasterParams` object: [`getPaymasterParams`](/sdk/js/ethers/v5/paymaster-utils#getpaymasterparams).

## Example in Action
Hereâ€™s how to call the method `setGreeting` of an `ethers` Contract object called `greeter`, while paying fees with the
[testnet paymaster](/build/developer-reference/account-abstraction#testnet-paymaster):

```javascript
// The `setGreeting` method has a single parameter -- new greeting
// We will set its value as `a new greeting`.
const greeting = "a new greeting";
const tx = await greeter.populateTransaction.setGreeting(greeting);
const gasPrice = await sender.provider.getGasPrice();
const gasLimit = await greeter.estimateGas.setGreeting(greeting);
const fee = gasPrice.mul(gasLimit);

const paymasterParams = utils.getPaymasterParams(testnetPaymaster, {
  type: "ApprovalBased",
  token,
  minimalAllowance: fee,
  innerInput: new Uint8Array(),
});

const sentTx = await sender.sendTransaction({
  ...tx,
  maxFeePerGas: gasPrice,
  maxPriorityFeePerGas: 0n,
  gasLimit,
  customData: {
    gasPerPubdata: utils.DEFAULT_GAS_PER_PUBDATA_LIMIT,
    paymasterParams,
  },
});
```

### Explanation

1. **Set Greeting**: Define the new greeting message.

    ```javascript
    const greeting = "a new greeting";
    ```

2. **Populate Transaction**: Prepare the transaction for setting the greeting.

    ```javascript
    const tx = await greeter.populateTransaction.setGreeting(greeting);
    ```

3. **Calculate Gas**:
    - Retrieve the current gas price.
    - Estimate the gas limit for the transaction.
    - Calculate the total fee.

    ```javascript
    const gasPrice = await sender.provider.getGasPrice();
    const gasLimit = await greeter.estimateGas.setGreeting(greeting);
    const fee = gasPrice.mul(gasLimit);
    ```

4. **Generate Paymaster Parameters**: Set up the paymaster parameters required for zkSync.

    ```javascript
    const paymasterParams = utils.getPaymasterParams(testnetPaymaster, {
      type: "ApprovalBased",
      token,
      minimalAllowance: fee,
      innerInput: new Uint8Array(),
    });
    ```

5. **Send Transaction**: Include zkSync-specific fields in the `customData` object.

    ```javascript
    const sentTx = await sender.sendTransaction({
      ...tx,
      maxFeePerGas: gasPrice,
      maxPriorityFeePerGas: 0n,
      gasLimit,
      customData: {
        gasPerPubdata: utils.DEFAULT_GAS_PER_PUBDATA_LIMIT,
        paymasterParams,
      },
    });
    ```
